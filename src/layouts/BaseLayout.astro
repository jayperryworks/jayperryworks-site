---
import '@styles/base/reset.css';
import '@styles/base/type.css';
import MainNav from '@components/navigation/MainNav.astro';
import MainFooter from '@components/navigation/MainFooter.astro';

export interface Props {
	pageTitle?: string;
	path?: string;
	headerOverlay?: boolean;
};

const {
	pageTitle,
	headerOverlay = false,
	path = 'home',
	} = Astro.props as Props;

const SITE_TITLE = 'Jay Perry';
const title = pageTitle ? `${SITE_TITLE} | ${pageTitle}` : SITE_TITLE;
---

<html lang="en" class="no-js no-touch">
	<head>
		<meta charset='utf-8'>
		<meta name='viewport' content='width=device-width,initial-scale=1.0'>
		<title>{title}</title>
		<script>
			// Add a class to the html element to confirm JS is available
			// -> used by the CSS for styling JS-dependent elements
			let featureClasses = ['js'];
			// Add a class if the browser/device supports touch
			if ("ontouchstart" in document.documentElement) featureClasses.push('touch');
			document.documentElement.className = featureClasses;
		</script>
	</head>

	<body>
		<MainNav segment={path} overlay={headerOverlay} />
		<main>
			<slot />
		</main>
		<MainFooter />
	</body>
</html>

<style>
	body {
		display: flex;
		flex-direction: column;
		min-height: 100vh;
	}

	main {
		flex: 1;
	}
</style>
