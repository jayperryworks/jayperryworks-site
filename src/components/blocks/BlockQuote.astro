---
/**
 * Block quote component
 * - display a long quote in editorial text
 *
 * @param {FormattedText} text - body text
 * @param {KeyTextField} [attribution] - optional credit for the author
 * @param {string} [class] - append classes to the container
 * @param {boolean} [margins] - display outside margins
 */

// --- assets ---
import '@styles/tokens/spacing.css';
import '@styles/utilities/contentWidth.css';
import '@styles/utilities/spacing.css';

// --- components ---
import Passage from '@components/blocks/Passage.astro';

// --- types ---
import type { FormattedText } from '@lib/types';
import { KeyTextField } from '@prismicio/types';

// --- props ---
const {
	text,
	attribution,
	class: className = '',
	margins,
} = Astro.props;
---

<blockquote class:list={[
	{ 'space-outside-margins': margins },
	className,
]}>
	<div class="content-width centered">
		<Passage
			class="text"
			{text}
		/>
		{attribution && (
			<cite class="type-role-accent type-scale-zeta">
				&mdash; {attribution}
			</cite>
		)}
	</div>
</blockquote>

<style>blockquote :global(.text),
	cite {
		padding-inline-start: var(--space-medium);
	}

	blockquote :global(.text) {
		font-size: 0.89em;
		font-style: italic;
		overflow: visible;
	}

	cite {
		display: block;
		padding-block-start: var(--space-medium);
		color: var(--color-secondary);
	}
</style>
