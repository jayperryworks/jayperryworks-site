---
// assets
import '@styles/tokens/spacing.css';
import '@styles/tokens/color.css';

// components
import Passage from '@components/blocks/Passage.astro';

// types
import type { FormattedText } from '@lib/types';
import { KeyTextField } from '@prismicio/types';

export interface Props {
	text: FormattedText;
	attribution?: KeyTextField;
	class?: string;
}

const {
	text,
	attribution,
	class: className = '',
} = Astro.props as Props;
---

<blockquote class={className}>
	<Passage
		class="text"
		{text}
	/>

	{attribution && (
		<cite class="type-role-accent type-scale-zeta">
			&mdash; {attribution}
		</cite>
	)}
</blockquote>

<style>
	blockquote {
		padding-inline-start: var(--space-medium);
	}

	blockquote :global(.text) {
		font-size: 0.89em;
		font-style: italic;
		overflow: visible;
	}

	cite {
		display: block;
		padding-block-start: var(--space-medium);
		color: var(--color-secondary);
	}
</style>
