---
// block components
import Passage from '@components/blocks/Passage.astro';
import Figure from '@components/blocks/Figure.astro';
import ImageGallery from '@components/blocks/ImageGallery.astro';

// Typescript
import type { Block } from '@lib/types';

export interface Props {
	block: Block;
	class?: string;
}

const {
	block,
	class: className,
} = Astro.props as Props;

const width = {
	Small: 'narrow',
	Medium: 'default',
	Large: 'xwide',
	XLarge: 'xxwide',
}[block.prominence];

const style = `--block-width: var(--content-width-${width || 'default'}`;
---

<div
	class={['wrapper', className].join(' ')}
	{style}
>
	<!-- passage -->
	{block.type === 'passage' && <Passage {...block} />}
	<!-- figure -->
	{block.type === 'figure' && <Figure {...block} />}
	<!-- image gallery -->
	{block.type === 'imageGallery' && <ImageGallery {...block} />}
</div>

<style>
	.wrapper {
		max-width: var(--block-width);
		margin-inline: auto;
	}
</style>
