---
// assets
import '@styles/tokens/borders.css';
import '@styles/tokens/spacing.css';
import '@styles/utilities/type.css';

import arrow from '@icons/arrow-right.svg?raw';

// components
import Heading from '@components/blocks/Heading.astro';
import Button from '@components/elements/Button.astro';

// types
import { TitleField } from '@prismicio/types';

type Actions = Array<{
	label: string,
	link: string,
}>;

export type Props = {
	title: TitleField,
	actions?: Actions,
	class?: string,
};

const {
	title,
	actions,
	class: className = ''
} = Astro.props as Props;
---

<aside class={className}>
	<Heading class="type-scale-delta">{title}</Heading>

	<slot></slot>

	{actions && (
		<footer>
			{actions.map(({label, link}) => (
				<Button iconRight={arrow} href={link}>{label}</Button>
			))}
		</footer>
	)}
</aside>

<style>
	aside {
		--color-bg: var(--color-well);

		display: flex;
		flex-direction: column;
		border-radius: var(--border-radius);
		max-width: var(--content-width-default);
		margin-inline: auto;
		padding: var(--space-medium);
		background-color: var(--color-well);
	}

	aside > :global(* + *) {
		padding-block-start: var(--space-xnarrow);
	}

	footer {
		display: flex;
		flex-wrap: wrap;
		justify-content: flex-end;
		gap: var(--space-xnarrow);
		padding-block-start: var(--space-medium);
	}
</style>
