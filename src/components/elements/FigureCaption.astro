---
/**
 * Figure caption component
 * - display a caption below the image in a Figure block
 *
 * @param {FormattedText} text - the body text
 * @param {FormattedText} [attribution] - optional credit for the creator
 * @param {string} [class] - classes to append to the container
 */

// --- styles ---
import '@styles/tokens/spacing.css';
import '@styles/utilities/type.css';

// --- components ---
import RenderedText from "@components/elements/RenderedText.astro";

// --- types ---
import { FormattedText } from "@lib/types";

// --- props ---
const {
	text,
	attribution,
	class: className = '',
} = Astro.props;
---

<figcaption class={`type-role-accent type-scale-zeta ${className}`}>
  <slot>
		<RenderedText {...text} />

		{attribution && (
			<cite>
				<RenderedText {...attribution} inline />
			</cite>
		)}
	</slot>
</figcaption>

<style>
	figcaption,
	cite {
		text-align: left;
		color: var(--color-secondary);
	}

	figcaption > * + * {
		padding-block-start: var(--space-xnarrow);
	}

	figcaption :global(p) {
    font-style: normal;
		max-width: none;
	}

	cite {
		font-style: italic;
	}
</style>
